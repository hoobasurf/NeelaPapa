<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Neela & Papa</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="chat-app">
    <header id="app-header" aria-hidden="true">
      <a href="tamagotchi.html" id="title-link">
        <h1>Neela & Papa</h1>
      </a>
      <p id="status">Connexion...</p>
    </header>

    <main id="messages">
      <!-- Messages ajoutÃ©s dynamiquement ici -->
    </main>

    <form id="message-form">
      <input type="text" id="message-input" placeholder="Ã‰cris un message..." />
      <button type="submit" class="btn send-btn">Envoyer</button>
      <label for="image-upload" class="btn photo-btn">ðŸ“·</label>
      <input type="file" id="image-upload" accept="image/*" />
    </form>
  </div>

  <script>
    const messages = document.getElementById("messages");
    const form = document.getElementById("message-form");
    const input = document.getElementById("message-input");
    const imageUpload = document.getElementById("image-upload");

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      if (input.value.trim() !== "") {
        const div = document.createElement("div");
        div.className = "message me";
        div.textContent = input.value;
        messages.appendChild(div);
        messages.scrollTop = messages.scrollHeight;
        input.value = "";
      }
    });

    imageUpload.addEventListener("change", function () {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          const div = document.createElement("div");
          div.className = "message me";
          const img = document.createElement("img");
          img.src = e.target.result;
          div.appendChild(img);
          messages.appendChild(div);
          messages.scrollTop = messages.scrollHeight;
        };
        reader.readAsDataURL(file);
      }
    });
  </script>
</body>
</html>
