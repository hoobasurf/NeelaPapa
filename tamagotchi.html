<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Neela & Papa - Tamagotchi</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: url('fond-stitch.jpg') no-repeat center center fixed;
      background-size: cover;
      font-family: "Comic Sans MS", cursive;
    }

    #clickZone {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 5;
    }

    #stitch {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 220px;
      height: auto;
      z-index: 3;
      opacity: 1;
      transition: opacity 0.5s;
    }

    .fade-in {
      opacity: 1;
    }

    .fade-out {
      opacity: 0;
    }

    .gauge-container {
      position: absolute;
      bottom: 160px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 30px;
      z-index: 2;
    }

    .gauge {
      width: 80px;
      height: 20px;
      border-radius: 10px;
      background: #222;
      border: 2px solid white;
      overflow: hidden;
      position: relative;
    }

    .gauge-fill {
      height: 100%;
      width: 10%;
      transition: width 0.3s;
    }

    .eat .gauge-fill    { background-color: #ff9999; }
    .play .gauge-fill   { background-color: #66ccff; }
    .wash .gauge-fill   { background-color: #99ffcc; }
    .sleep .gauge-fill  { background-color: #ccccff; }

    .button-container {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 30px;
      z-index: 4;
    }

    .action-button {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: radial-gradient(circle, #fff, #aaa);
      border: 3px solid white;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      cursor: pointer;
      transition: transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      animation: vibrate 0.4s infinite;
    }

    .action-button:hover {
      transform: scale(1.1);
    }

    @keyframes vibrate {
      0% { transform: translate(0px, 0px); }
      25% { transform: translate(1px, -1px); }
      50% { transform: translate(-1px, 1px); }
      75% { transform: translate(1px, 1px); }
      100% { transform: translate(0px, 0px); }
    }

    .button-icon {
      width: 40px;
      height: 40px;
    }

    /* Couleurs de bordures */
    .eat    { border: 3px solid #ff9999; }
    .play   { border: 3px solid #66ccff; }
    .wash   { border: 3px solid #99ffcc; }
    .sleep  { border: 3px solid #ccccff; }

  </style>
</head>
<body>

<div id="clickZone"></div>

<img id="stitch" src="stitch5.gif" alt="Stitch" />

<!-- Jauges -->
<div class="gauge-container">
  <div class="gauge eat"><div class="gauge-fill" id="gaugeEat"></div></div>
  <div class="gauge play"><div class="gauge-fill" id="gaugePlay"></div></div>
  <div class="gauge wash"><div class="gauge-fill" id="gaugeWash"></div></div>
  <div class="gauge sleep"><div class="gauge-fill" id="gaugeSleep"></div></div>
</div>

<!-- Boutons -->
<div class="button-container">
  <button class="action-button eat" onclick="handleAction('eat', 'stitch19.gif')">
    üçΩÔ∏è
  </button>
  <button class="action-button play" onclick="handleAction('play', 'stitch20.gif')">
    üéÆ
  </button>
  <button class="action-button wash" onclick="handleAction('wash', 'stitch21.gif')">
    üßº
  </button>
  <button class="action-button sleep" onclick="handleAction('sleep', 'stitch22.gif')">
    üí§
  </button>
</div>

<script>
  const stitch = document.getElementById('stitch');
  const gauges = {
    eat: document.getElementById('gaugeEat'),
    play: document.getElementById('gaugePlay'),
    wash: document.getElementById('gaugeWash'),
    sleep: document.getElementById('gaugeSleep')
  };

  const gaugeValues = { eat: 100, play: 100, wash: 100, sleep: 100 };

  function updateGauges() {
    for (let key in gauges) {
      let value = Math.min(gaugeValues[key], 1000); // max 1000%
      gauges[key].style.width = value / 10 + '%';
    }
  }

  function handleAction(type, gifName) {
    gaugeValues[type] = Math.min(gaugeValues[type] + 100, 1000);
    updateGauges();
    playGif(gifName);
  }

  function playGif(gifName) {
    stitch.classList.remove("fade-in");
    stitch.classList.add("fade-out");
    setTimeout(() => {
      stitch.src = gifName;
      stitch.classList.remove("fade-out");
      stitch.classList.add("fade-in");
    }, 300);
  }

  // Clic fond pour changer de page
  document.getElementById('clickZone').onclick = () => {
    const currentPage = location.pathname.split('/').pop();
    if (currentPage === 'index.html' || currentPage === '') {
      playGif('stitch25.gif');
      setTimeout(() => location.href = 'tamagotchi.html', 5000);
    } else {
      playGif('stitch24.gif');
      setTimeout(() => location.href = 'index.html', 5000);
    }
  };

  updateGauges();
</script>
</body>
</html>
